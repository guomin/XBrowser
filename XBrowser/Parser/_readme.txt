The process of translating (potentially hideously malformed) HTML to a valid HTML5 document is as follows:

1) Tokenize the source string
2) Prepare the core required document structure (HTML/HEAD/BODY)
3) 